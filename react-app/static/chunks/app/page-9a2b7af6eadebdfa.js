(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7915:function(e,t,s){Promise.resolve().then(s.bind(s,6345))},6345:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var l=s(7437),a=s(2265),r=s(6691),c=s.n(r);function i(e){let{player:t}=e,s=function(e){let t=10+e.speed+e.armor;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"ARMOR"===l.targetStat&&(t+=l.effect)}return t}(t),a=function(e){let t=0;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"HP"===l.targetStat&&(t+=l.effect)}return t}(t),r=function(e){let t=0;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"MP"===l.targetStat&&(t+=l.effect)}return t}(t);return(0,l.jsxs)("div",{className:"flex w-full items-center gap-2 border border-black rounded-lg p-2",children:[(0,l.jsx)("div",{className:"flex-shrink-0 flex w-1/2",children:(0,l.jsx)(c(),{src:t.imgSrc,width:200,height:152,className:"hidden md:block",alt:"Player image"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"ml-auto flex flex-col",children:[(0,l.jsx)("h1",{className:"text-lg md:text-xl lg:text-2xl font-bold mb-1",children:t.name}),(0,l.jsxs)("div",{className:"text-base md:text-lg lg:text-xl",children:["HP: ",t.currHP+a,"/",t.totalHP+a]}),(0,l.jsxs)("div",{className:"text-sm md:text-base lg:text-lg mt-1",children:["MP: ",t.currMP+r,"/",t.totalMP+r]})]}),(0,l.jsx)("div",{className:"justify-start flex flex-col items-start",children:(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["STR: ",t.strength]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["SPD: ",t.speed]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["Armor: ",t.armor]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["Defense: ",s]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["GP: ",t.gp]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["AP: ",t.ap]})]})})]})]})}function n(e){let{enemy:t}=e;return(0,l.jsxs)("div",{className:"flex w-full items-center gap-2 border border-black rounded-lg p-2",children:[(0,l.jsx)("div",{className:"flex-shrink-0 flex w-1/2",children:(0,l.jsx)(c(),{src:t.imgSrc,width:200,height:152,className:"hidden md:block",alt:"Enemy image"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"ml-auto flex flex-col",children:[(0,l.jsx)("h1",{className:"lg:p-1 text-xl lg:text-xl md:text-lg sm:text-base text-sm font-bold",children:t.name}),(0,l.jsxs)("div",{className:"lg:p-1 text-xl lg:text-lg md:text-base sm:text-sm text-xs",children:["HP: ",t.currHP,"/",t.totalHP]})]}),(0,l.jsx)("div",{className:"justify-start flex flex-col items-start",children:(0,l.jsxs)("div",{className:"grid grid-cols-2",children:[(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["STR: ",t.strength]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["SPD: ",t.speed]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["Armor: ",t.armor]}),(0,l.jsxs)("div",{className:"lg:p-1 text-base lg:text-sm md:text-xs sm:text-xs text-xxs",children:["Defense: ",10+t.speed+t.armor]})]})})]})]})}var o=s(7042);function d(e){let{buttonText:t,className:s,maxWidth:a,...r}=e;return(0,l.jsx)("button",{...r,style:{maxWidth:a},className:(0,o.Z)("flex justify-center items-center rounded-lg bg-blue-500 px-4 py-2 text-xs font-medium text-white transition-colors hover:bg-black focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500 active:bg-blue-600 active:border-2 active:border-red-500 aria-disabled:cursor-not-allowed aria-disabled:opacity-50 whitespace-normal text-center",s),children:t})}function x(e){let t,{move:s,moveClicked:a,player:r,className:c,showCost:i,showContentBelow:n}=e,o=c?c+" "+m(s):m(s);function x(e,t){if("FLEE"!==e.type){let s;let l=(s=0+e.effectBonus,e.skillBonus&&"EFFECT"===e.skillBonus.type&&(s+="STRENGTH"===e.skillBonus.skill?e.skillBonus.multiplier*t.strength:e.skillBonus.multiplier*t.speed),s),a=e.effectRoll.quantity*e.effectRoll.rangeMin+l,r=e.effectRoll.quantity*e.effectRoll.rangeMax+l;return"".concat(a,"-").concat(r)}}function m(e){let t="";switch(e.tier){case 0:t="bg-green-500";break;case 1:t="bg-blue-500";break;case 2:t="bg-indigo-500";break;case 3:t="bg-violet-500";break;case 4:t="bg-black";break;default:t="bg-gray-500"}return t}return(0,l.jsxs)("div",{className:"flex flex-wrap items-center justify-center gap-1 border border-black rounded-lg p-2 min-w-[90px] bg-white text-xs",children:[(0,l.jsx)(d,{onClick:()=>a(s),buttonText:s.name,className:"h-[50px] w-[90px] "+o}),(0,l.jsx)("div",{className:"flex flex-cols-2 gap-1 min-w-[70px]",children:(0,l.jsxs)("div",{className:"flex flex-cols-2 gap-1",children:[(0,l.jsxs)("div",{className:"text-right",children:["ITEM"!==s.type?(0,l.jsx)("div",{children:"Success:"}):"",(0,l.jsx)("div",{children:"Effect:"}),"ITEM"===s.type?(0,l.jsx)("div",{children:"Uses:"}):"",i?(0,l.jsx)("div",{children:"Cost:"}):"",s.mpCost>0?(0,l.jsx)("div",{children:"MP Cost:"}):""]}),(0,l.jsxs)("div",{className:"text-left",children:["ITEM"!==s.type?(0,l.jsx)("div",{children:"+"+(t=0,s.successBonus&&(t+=s.successBonus),s.skillBonus&&"SUCCESS"===s.skillBonus.type&&(t+="SPEED"===s.skillBonus.skill?s.skillBonus.multiplier*r.speed:s.skillBonus.multiplier*r.strength),t)}):"",(0,l.jsx)("div",{children:null!=x(s,r)?x(s,r):"N/A"}),"ITEM"===s.type?(0,l.jsx)("div",{children:function(e){if("ITEM"===e.type)return e.uses}(s)}):"",s.mpCost>0?(0,l.jsx)("div",{children:s.mpCost}):"",(0,l.jsxs)("div",{children:[i?s.cost:"",i&&"ITEM"===s.type?" GP":"",i&&("ACTION"===s.type||"FLEE"===s.type)?" AP":""]})]})]})})]})}function m(e){let{player:t,actionSelected:s}=e;function a(e){s(e),"uses"in e&&"number"==typeof e.uses&&e.uses>0&&(e.uses-=1)}return(0,l.jsx)("div",{className:"flex flex-col h-full gap-4",children:["Melee","Ranged","Spell","Flee"].map((e,s)=>(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 items-center w-full",children:[(0,l.jsx)("h1",{className:"text-sm font-bold justify-end ",style:{minWidth:"3rem",display:"flex",alignItems:"center"},children:e}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center col-span-2",children:t.actionList.filter(e=>e.slot===s).map((e,s)=>(0,l.jsx)(x,{move:e,moveClicked:a,player:t,showCost:!1},s))})]},s))})}function u(e){let{player:t,actionSelected:s,height:a}=e;function r(e){s(e),"uses"in e&&"number"==typeof e.uses&&e.uses>0&&(e.uses-=1)}return(0,l.jsx)("div",{className:a||"h-full",style:{overflowX:"auto"},children:(0,l.jsx)("div",{className:"grid text-center h-full",style:{minWidth:"100%"},children:["HP Potion","MP Potion","Scroll"].map((e,s)=>(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-sm font-bold max-w-[40px]",children:e}),t.itemList.filter(t=>t.title===e&&t.uses>0).map((e,s)=>(0,l.jsx)(x,{move:e,moveClicked:r,player:t,showCost:!1,showContentBelow:!0},s))]},s))})})}function f(e){let{equipment:t,player:s,className:a,showCost:r,showContentBelow:c,equipClicked:i}=e,n=a?a+" "+o(t):o(t);function o(e){let t="";switch(e.tier){case 0:t="bg-green-500";break;case 1:t="bg-blue-500";break;case 2:t="bg-indigo-500";break;case 3:t="bg-violet-500";break;case 4:t="bg-black";break;default:t="bg-gray-500"}return t}return(0,l.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-1 border border-black rounded-lg p-2 min-w-[90px] bg-white text-xs",children:[(0,l.jsx)("div",{className:"rounded-lg font-medium",children:(0,l.jsx)(d,{onClick:()=>i(t),buttonText:t.name,className:"h-14 w-[80px] "+n})}),(0,l.jsx)("div",{className:"flex flex-col gap-1",children:(0,l.jsxs)("div",{className:"flex flex-cols-2 gap-1 text-nowrap",children:[(0,l.jsxs)("div",{className:"text-right",children:["Effect:",r?(0,l.jsx)("div",{children:"Cost:"}):""]}),(0,l.jsxs)("div",{className:"text-left",children:["+"+t.effect+" "+t.targetStat,(0,l.jsx)("br",{}),r?t.cost+" GP":""]})]})})]})}function g(e){let{player:t,actionSelected:s,height:a}=e;return(0,l.jsx)("div",{className:(a||"h-full")+" flex flex-col justify-between mt-4",children:["Armor","Magic Item"].map((e,s)=>(0,l.jsxs)("div",{className:"flex flex-col flex-grow items-center w-full",children:[(0,l.jsx)("h1",{className:"text-sm font-bold justify-center",style:{minWidth:"3rem",display:"flex",alignItems:"center"},children:e}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center",children:t.equipList.filter(e=>e.slot===s).map((e,s)=>(0,l.jsx)(f,{player:t,showCost:!1,equipment:e,showContentBelow:!0,equipClicked:()=>{}},s))})]},s))})}function p(e){let{player:t,setPlayer:s,enemies:r,setGainLevels:c,getSuccessBonus:o,getEffectBonus:x,msg:f,setMsg:p,shopping:h,setShopping:j}=e,[b,P]=(0,a.useState)(r[0]),[v,N]=(0,a.useState)(!1),[M,y]=(0,a.useState)(!0),[S,w]=(0,a.useState)(0),[k,H]=(0,a.useState)(!1),E=function(e){let t=0;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"HP"===l.targetStat&&(t+=l.effect)}return t}(t),C=function(e){let t=0;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"MP"===l.targetStat&&(t+=l.effect)}return t}(t);function B(e){let l=!1,a=0,r=0,c=!1,i=f,n=t,d=b,m=0;function u(e,s){let l=s===t?s.currMP+C:s.currMP;return!(e.mpCost>l)}function g(e,s){let l="OTHER"===e.target&&s===t||"SELF"===e.target&&s===b?b:t,a=0;return i+="\n".concat(s.name," used ").concat(e.name,"..."),e.effectRoll&&function(e,s,l){if("SELF"===e.target)return!0;let a=o(e,s),r=l===t?function(e){let t=10+e.speed+e.armor;for(let s=0;s<e.equipList.length;s++){let l=e.equipList[s];"ARMOR"===l.targetStat&&(t+=l.effect)}return t}(t):10+b.speed+b.armor;return Math.floor(20*Math.random())+1+a>=r}(e,s,l)?(a=function(e,t){let s=0;if(e.effectRoll)for(let t=0;t<e.effectRoll.quantity;t++)s+=Math.floor(Math.random()*(e.effectRoll.rangeMax-e.effectRoll.rangeMin+1))+e.effectRoll.rangeMin;return s+=x(e,t),e.statIncrease?s:-s}(e,s))>0?i+="\n".concat(l.name,"'s ").concat(e.targetStat," was increased by ").concat(a,"!"):a<0?i+="\n".concat(l.name,"'s ").concat(e.targetStat," was reduced by ").concat(Math.abs(a),"!"):i+="\nNo effect!":i+="\n".concat(s.name,"'s attack missed!"),a}function h(){let e=n.currHP+E<=0,l=d.currHP<=0;if(c||e||l){if(c||!e){if(!c){i+="\n".concat(t.name," defeated ").concat(b.name,"!")+"\nGained ".concat(b.xp,"XP and ").concat(b.gp,"GP!"),n={...n,gp:n.gp+b.gp,xp:n.xp+b.xp};let e=R(n.xp);n.level<e&&(m=e-n.level)}m>0?(w(m),H(!0)):N(!0)}else i+="\n".concat(t.name," was defeated by ").concat(b.name,"!")}P(d),s(n),S>0&&H(!0),p(i),console.log(i)}if(t.currHP+E>0){if(u(e,t)){if("FLEE"===e.type)(c=function(e,t,s){let l=Math.floor(20*Math.random())+1+o(e,t),a=Math.floor(20*Math.random())+1+s.speed;return l>a}(e,t,b))?i+="\n".concat(t.name," escaped from ").concat(b.name,"!"):(i+="\n".concat(t.name," was not able to get away!"),l=!0);else{var j;j=g(e,t),"OTHER"===e.target?(n={...t,currMP:t.currMP-e.mpCost},"HP"===e.targetStat?d={...b,currHP:b.currHP+j}:"MP"===e.targetStat&&(d={...b,currMP:b.currMP+j})):"HP"===e.targetStat?n={...t,currHP:t.currHP+j,currMP:t.currMP-e.mpCost}:"MP"===e.targetStat&&(n={...t,currMP:t.currMP-e.mpCost+j}),l=!0}}else i+="\nInsufficient MP!";p(i),console.log(i),l&&d.currHP>0?setTimeout(()=>{var e,t;let s=Math.floor(Math.random()*b.actionList.length),l=b.actionList[s];for(;!u(l,b);)s=Math.floor(Math.random()*b.actionList.length),l=b.actionList[s];r=g(l,b),e=l,t=r,"OTHER"===e.target?(d={...d,currMP:d.currMP-e.mpCost},"HP"===e.targetStat?console.log("TEMPPLAYERHP: "+(n={...n,currHP:n.currHP+t}).currHP):"MP"===e.targetStat&&(n={...n,currMP:n.currMP+t})):"HP"===e.targetStat?d={...d,currHP:d.currHP+t,currMP:d.currMP-e.mpCost}:"MP"===e.targetStat&&(d={...d,currMP:d.currMP-e.mpCost+t}),h()},100):h()}}function L(){let e=function(){let e=r.filter(e=>1>=Math.abs(e.level-t.level)),s=Math.floor(Math.random()*e.length);return e[s]}();P(e),p(f+"\n".concat(e.name," appeared!")),N(!1)}function R(e){return e>750?5:e>200?4:e>80?3:e>15?2:1}return(0,l.jsxs)("div",{className:"relative flex flex-col gap-4 w-full bg-white text-center",children:[v&&!k&&(0,l.jsx)("div",{className:"absolute inset-x-0 inset-y-0 flex justify-center items-center bg-white bg-opacity-75",children:(0,l.jsxs)("div",{className:"flex-col w-1/3",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"You Survived!"}),(0,l.jsx)(d,{buttonText:"Next Battle!",className:"w-full mb-4",onClick:L}),(0,l.jsx)(d,{buttonText:"Go Shopping!",className:"w-full",onClick:()=>j(!0)})]})}),M&&(0,l.jsx)("div",{className:"absolute inset-x-0 inset-y-0 flex justify-center items-center bg-white bg-opacity-75",children:(0,l.jsxs)("div",{className:"flex-col w-1/3",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Time to adventure!"}),(0,l.jsx)(d,{buttonText:"Next Battle!",className:"w-full",onClick:function(){L(),y(!1)}})]})}),k&&5>R(t.xp)&&(0,l.jsx)("div",{className:"absolute inset-x-0 inset-y-0 flex justify-center items-center bg-white bg-opacity-75",children:(0,l.jsxs)("div",{className:"flex-col w-1/3",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"You reached enough XP to level up!"}),(0,l.jsx)(d,{buttonText:"Level up!",className:"w-full",onClick:()=>c(S)})]})}),k&&R(t.xp)>=5&&(0,l.jsx)("div",{className:"absolute inset-x-0 inset-y-0 flex justify-center items-center bg-white bg-opacity-75",children:(0,l.jsx)("div",{className:"flex-col w-1/3",children:(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"You reached level 5! You win!"})})}),(0,l.jsxs)("div",{className:"flex w-full gap-4",children:[(0,l.jsxs)("div",{className:"flex-col w-full md:w-1/3 border border-black rounded-lg p-2",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Attacks"}),(0,l.jsx)(m,{player:t,actionSelected:B})]}),(0,l.jsxs)("div",{className:"flex flex-col md:w-1/3 justify-center",children:[(0,l.jsx)(i,{player:t}),!M&&(0,l.jsx)(n,{enemy:b})]}),(0,l.jsxs)("div",{className:"flex w-full gap-4 md:w-1/3",children:[(0,l.jsxs)("div",{className:"w-1/3 border border-black rounded-lg p-2",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Equipment"}),(0,l.jsx)(g,{player:t,actionSelected:()=>{}})]}),(0,l.jsxs)("div",{className:"w-2/3 border border-black rounded-lg p-2",children:[(0,l.jsx)("h1",{className:"text-xl font-bold",children:"Items"}),(0,l.jsx)(u,{player:t,actionSelected:B})]})]})]})]})}var h=()=>(0,l.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,l.jsxs)("svg",{width:"64",height:"32",viewBox:"0 0 48 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-arrow-right",children:[(0,l.jsx)("line",{x1:"5",y1:"12",x2:"43",y2:"12"}),(0,l.jsx)("polyline",{points:"36 19 43 12 36 5"})]})});let j=[1,1,2,2,3,3],b=[15,25,35,60,85,120],P=[6,9,15,24,36,51];function v(e){var t;let{player:s,setPlayer:r,gainLevels:c,setGainLevels:i,moves:n,msg:o,setMsg:m}=e,u=s.level-1,f=u+c,g=s.totalHP+b[f]-b[u],p=s.totalMP+P[f]-P[u],v=j[f]-j[u],N=function(e){let t=0;for(let s=0;s<c;s++)t+=e,e--;return t}((t=s.xp)>750?5:t>200?4:t>80?3:t>15?2:1),[M,y]=(0,a.useState)({...s,ap:s.ap+N,currHP:g,totalHP:g,currMP:p,totalMP:p,speed:s.speed+v,strength:s.strength+v,level:s.level+c});function S(e){if(M.actionList.some(t=>t.id===e.id))m(o+"\n".concat(s.name," already has ").concat(e.name,"."));else if(M.ap>=e.cost){let t=M.actionList,l=[...t.slice(0,e.slot),e,...t.slice(e.slot+1)];y({...M,actionList:l,ap:M.ap-e.cost}),m(o+"\n".concat(s.name," gained ").concat(e.name,"!"))}else m(o+"\nInsufficient AP.")}return(0,l.jsxs)("div",{className:"flex flex-col items-center w-full text-center",children:[(0,l.jsxs)("div",{className:"flex w-full gap-4",children:[(0,l.jsx)("div",{className:"flex flex-col w-full items-center justify-center border border-black rounded-lg p-2",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 w-full items-end",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4 col-start-2",children:"Purchase Attacks"}),(0,l.jsxs)("h1",{className:"text-xl font-bold mb-4 col-start-3",children:["AP: ",M.ap]})]}),(0,l.jsx)("div",{className:"flex flex-cols-3",children:(0,l.jsx)("div",{className:"grid grid-rows-4 gap-4",children:["Melee","Ranged","Spell","Flee"].map((e,t)=>(0,l.jsxs)("div",{className:"flex gap-4 items-center border border-black rounded-lg p-2",children:[(0,l.jsx)("h1",{className:"text-sm font-bold",style:{minWidth:"5rem"},children:e}),n.filter(e=>e.slot===t&&M.actionList[t]&&e.cost>=M.actionList[t].cost).map((e,t)=>(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(x,{move:e,moveClicked:S,player:M,showCost:0!==t,className:"mt-1"}),0===t&&(0,l.jsx)(h,{})]},t))]},t))})})]})}),(0,l.jsxs)("div",{className:"flex flex-col w-full md:w-1/6 border border-black rounded-lg p-2",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Stat Increases"}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-around flex-grow",children:[" ",(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:"Total HP"}),(0,l.jsxs)("div",{className:"flex flex-cols-3",children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:s.totalHP}),(0,l.jsx)(h,{}),(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:M.totalHP})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:"Total MP"}),(0,l.jsxs)("div",{className:"flex flex-cols-3",children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:s.totalMP}),(0,l.jsx)(h,{}),(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:M.totalMP})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:"STR"}),(0,l.jsxs)("div",{className:"flex flex-cols-3",children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:s.strength}),(0,l.jsx)(h,{}),(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:M.strength})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:"SPD"}),(0,l.jsxs)("div",{className:"flex flex-cols-3",children:[(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:s.speed}),(0,l.jsx)(h,{}),(0,l.jsx)("h1",{className:"text-l font-bold col-start-2",children:M.speed})]})]})]})]})]}),(0,l.jsx)("div",{className:"flex justify-center mt-4 gap-4 w-full",children:(0,l.jsx)(d,{buttonText:"All Set!",className:"w-1/3",onClick:function(){r(M),i(0)}})})]})}function N(e){let{text:t}=e,s=(0,a.useRef)(null);return(0,a.useEffect)(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[t]),(0,l.jsx)("div",{className:"flex flex-col items-center",children:(0,l.jsx)("textarea",{ref:s,className:"w-full p-3 text-md text-gray-700 placeholder-gray-600 border-2 border-gray-300 rounded-md",style:{border:"2px solid black",outline:"2px solid black"},rows:4,readOnly:!0,disabled:!0,value:t})})}function M(e){let{player:t,setPlayer:s,items:r,setShopping:c,equipment:i,msg:n,setMsg:o}=e,[m,g]=(0,a.useState)(t);function p(e){if(m.gp>=e.cost){let t;let s=m.itemList.some(t=>t.id===e.id);t=s?m.itemList.map(t=>t.id===e.id?{...t,uses:t.uses+1}:t):[...m.itemList,e],g({...m,itemList:t,gp:m.gp-e.cost})}}function j(e){if(m.equipList.some(t=>t.id===e.id))o(n+"\n".concat(t.name," already has ").concat(e.name,"."));else if(m.gp>=e.cost){let s=m.equipList,l=[...s.slice(0,e.slot),e,...s.slice(e.slot+1)];g({...m,equipList:l,gp:m.gp-e.cost}),o(n+"\n".concat(t.name," purchased ").concat(e.name,"!"))}else o(n+"\nInsufficient GP.")}return(0,l.jsxs)("div",{className:"flex flex-col w-full text-center gap-4",children:[(0,l.jsxs)("div",{className:"flex w-full gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col w-full md:w-1/3 border border-black rounded-lg p-2 items-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Current Items"}),(0,l.jsx)(u,{player:m,actionSelected:()=>{}})]}),(0,l.jsxs)("div",{className:"md:w-2/3 border border-black rounded-lg p-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 w-full items-end",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4 col-start-2",children:"Purchase Items"}),(0,l.jsxs)("h1",{className:"text-xl font-bold mb-4 col-start-3",children:["GP: ",m.gp]})]}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-4",children:["HP Potion","MP Potion","Scroll"].map((e,t)=>(0,l.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-l font-bold",children:e}),r.filter(t=>t.title===e).map((e,t)=>(0,l.jsx)(x,{move:e,moveClicked:p,player:m,showCost:!0},t))]},t))})]})]}),(0,l.jsx)("div",{className:"flex flex-col w-full text-center gap-4",children:(0,l.jsx)("div",{className:"flex flex-col w-full text-center gap-4",children:(0,l.jsxs)("div",{className:"w-full border border-black rounded-lg p-2",children:[(0,l.jsxs)("div",{className:"grid grid-cols-3 w-full items-end",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4 col-start-2",children:"Purchase Equipment"}),(0,l.jsxs)("h1",{className:"text-xl font-bold mb-4 col-start-3",children:["GP: ",m.gp]})]}),(0,l.jsx)("div",{className:"grid grid-rows-2 gap-4",children:["Armor","Magic Item"].map((e,s)=>(0,l.jsxs)("div",{className:"grid grid-cols-6 items-center gap-4",children:[(0,l.jsx)("h1",{className:"text-sm font-bold",style:{minWidth:"5rem"},children:e}),i.filter(e=>e.slot===s&&m.equipList[s]&&e.cost>=m.equipList[s].cost).map((e,s)=>(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(f,{player:t,equipment:e,showContentBelow:!1,showCost:0!==s,equipClicked:j},s),0===s&&(0,l.jsx)(h,{})]},s))]},s))})]})})}),(0,l.jsx)("div",{className:"flex justify-center mt-4",children:(0,l.jsx)(d,{buttonText:"Done Shopping!",className:"w-1/3",onClick:function(){s(m),c(!1)}})})]})}function y(e){let{player:t,getNextLevelXP:s,getEarnedLevel:a}=e,r=s(t.xp),c=t.xp/r*100,i=a(t.xp);return(0,l.jsxs)("div",{className:"border border-black rounded-lg p-2 w-full",children:[(0,l.jsxs)("h1",{className:"text-lg font-bold mb-4 text-center",children:["Level ",i]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("h1",{className:"text-lg font-bold mb-4 text-left",children:[t.xp," XP"]}),(0,l.jsxs)("h1",{className:"text-lg font-bold mb-4 text-right",children:["Next Level: ",r," XP"]})]}),(0,l.jsx)("div",{className:"h-5 w-full bg-gray-300 border border-black rounded-l",children:(0,l.jsx)("div",{className:"h-full bg-blue-500 rounded-l",style:{width:"".concat(c,"%")}})})]})}function S(e){let{basePlayer:t,enemies:s,items:r,moves:c,equipment:i}=e,[n,o]=(0,a.useState)(t),[d,x]=(0,a.useState)(0),[m,u]=(0,a.useState)("Welcome to monster fight!"),[f,g]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:"w-full flex flex-col",children:[(0,l.jsxs)("div",{className:"flex gap-4 mb-4 w-full justify-center",children:[(0,l.jsx)("div",{className:"flex flex-col w-full md:w-1/3 justify-center",children:(0,l.jsx)(y,{player:n,getNextLevelXP:function(e){return e<15?15:e<80?80:e<200?200:750},getEarnedLevel:function(e){return e>750?5:e>200?4:e>80?3:e>15?2:1}})}),(0,l.jsx)("div",{className:"flex flex-col w-full md:w-2/3",children:(0,l.jsx)(N,{text:m})})]}),(0,l.jsx)("div",{className:"w-full",children:f?(0,l.jsx)("div",{className:"flex-col items-center w-full",children:(0,l.jsx)(M,{player:n,setPlayer:o,items:r,equipment:i,setShopping:g,msg:m,setMsg:u})}):0!==d&&n.currHP>0?(0,l.jsx)("div",{className:"flex-col items-center w-full",children:(0,l.jsx)(v,{player:n,setPlayer:o,gainLevels:d,setGainLevels:x,moves:c,msg:m,setMsg:u})}):(0,l.jsx)("div",{className:"flex-col items-center w-full",children:(0,l.jsx)(p,{player:n,setPlayer:o,enemies:s,setGainLevels:x,getSuccessBonus:function(e,t){let s=0;return e.successBonus&&(s+=e.successBonus),e.skillBonus&&"SUCCESS"===e.skillBonus.type&&(s+="SPEED"===e.skillBonus.skill?e.skillBonus.multiplier*t.speed:e.skillBonus.multiplier*t.strength),s},getEffectBonus:function(e,t){let s;return s=0+e.effectBonus,e.skillBonus&&"EFFECT"===e.skillBonus.type&&(s+="STRENGTH"===e.skillBonus.skill?e.skillBonus.multiplier*t.strength:e.skillBonus.multiplier*t.speed),s},msg:m,setMsg:u,shopping:f,setShopping:g})})})]})}function w(){let e={id:0,rangeMin:1,rangeMax:4,quantity:1},t={id:2,rangeMin:1,rangeMax:8,quantity:1},s={id:6,rangeMin:1,rangeMax:6,quantity:2},a={id:7,rangeMin:1,rangeMax:8,quantity:2},r={id:16,rangeMin:1,rangeMax:6,quantity:4},c={id:0,skill:"SPEED",multiplier:2,type:"SUCCESS"},i={id:1,skill:"SPEED",multiplier:2,type:"SUCCESS"},n={id:2,skill:"SPEED",multiplier:2,type:"EFFECT"},o={id:10,name:"Run Away",type:"FLEE",slot:3,tier:0,skillBonus:{id:0,skill:"SPEED",multiplier:1,type:"SUCCESS"},successBonus:1,cost:0,mpCost:0},d=[{id:0,name:"Punch",type:"ACTION",slot:0,tier:0,skillBonus:i,successBonus:1,effectRoll:e,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:0},{id:1,name:"Throw Rock",type:"ACTION",slot:1,tier:0,skillBonus:n,successBonus:1,effectRoll:e,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:0},{id:2,name:"Magic Blast",type:"ACTION",slot:2,tier:0,successBonus:3,effectRoll:s,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:3,cost:0},{id:3,name:"Club",type:"ACTION",slot:0,tier:1,skillBonus:n,successBonus:2,effectRoll:{id:1,rangeMin:1,rangeMax:6,quantity:1},effectBonus:2,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:1},{id:4,name:"Slingshot",type:"ACTION",slot:1,tier:1,skillBonus:i,successBonus:2,effectRoll:t,effectBonus:1,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:1},{id:5,name:"Poison Cloud",type:"ACTION",slot:2,tier:1,successBonus:4,effectRoll:{id:10,rangeMin:1,rangeMax:4,quantity:3},effectBonus:4,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:3,cost:1},{id:6,name:"Longsword",type:"ACTION",slot:0,tier:2,skillBonus:n,successBonus:3,effectRoll:{id:11,rangeMin:1,rangeMax:6,quantity:3},effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:3},{id:7,name:"Crossbow",type:"ACTION",slot:1,tier:2,skillBonus:i,successBonus:3,effectRoll:s,effectBonus:2,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,cost:3},{id:8,name:"Fireball",type:"ACTION",slot:2,tier:2,successBonus:6,effectRoll:r,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:8,cost:3},o,{id:11,name:"Stealthy Escape",type:"FLEE",slot:3,tier:1,skillBonus:c,successBonus:2,cost:1,mpCost:0},{id:12,name:"Escape On Steed",type:"FLEE",slot:3,tier:2,skillBonus:c,successBonus:4,cost:2,mpCost:0}],x=[{id:0,name:"Mini HP Potion",type:"ITEM",slot:5,tier:0,effectRoll:t,effectBonus:0,target:"SELF",targetStat:"HP",statIncrease:!0,mpCost:0,uses:1,cost:8,successBonus:0,title:"HP Potion"},{id:1,name:"Mini MP Potion",type:"ITEM",slot:5,tier:0,successBonus:1,effectRoll:t,effectBonus:0,target:"SELF",targetStat:"MP",statIncrease:!0,mpCost:0,uses:1,cost:5,title:"MP Potion"},{id:2,name:"Fireball Scroll",type:"ITEM",slot:5,tier:0,successBonus:4,effectRoll:r,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,uses:1,cost:8,title:"Scroll"},{id:3,name:"HP Potion",type:"ITEM",slot:5,tier:1,effectRoll:a,effectBonus:0,target:"SELF",targetStat:"HP",statIncrease:!0,mpCost:0,uses:1,cost:8,successBonus:0,title:"HP Potion"},{id:4,name:"MP Potion",type:"ITEM",slot:5,tier:1,effectRoll:a,effectBonus:0,target:"SELF",targetStat:"MP",statIncrease:!0,mpCost:0,uses:1,cost:10,successBonus:0,title:"MP Potion"},{id:5,name:"Fireball2 Scroll",type:"ITEM",slot:5,tier:1,successBonus:4,effectRoll:r,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,uses:1,cost:10,title:"Scroll"},{id:6,name:"Mega HP Potion",type:"ITEM",slot:5,tier:2,effectRoll:r,effectBonus:0,target:"SELF",targetStat:"HP",statIncrease:!0,mpCost:0,uses:1,cost:20,successBonus:0,title:"HP Potion"},{id:7,name:"Mega MP Potion",type:"ITEM",slot:5,tier:2,effectRoll:r,effectBonus:0,target:"SELF",targetStat:"MP",statIncrease:!0,mpCost:0,uses:1,cost:15,successBonus:0,title:"MP Potion"},{id:8,name:"Fireball3 Scroll",type:"ITEM",slot:5,tier:2,successBonus:4,effectRoll:r,effectBonus:0,target:"OTHER",targetStat:"HP",statIncrease:!1,mpCost:0,uses:1,cost:20,title:"Scroll"}],m=[{id:0,name:"Basic Clothes",targetStat:"ARMOR",effect:0,tier:0,cost:0,slot:0,title:"Armor"},{id:1,name:"Minor Ring of MP",targetStat:"MP",effect:3,tier:0,cost:0,slot:1,title:"Magic Item"},{id:2,name:"Leather Armor",targetStat:"ARMOR",effect:1,tier:1,cost:15,slot:0,title:"Armor"},{id:3,name:"Minor Ring of HP",targetStat:"HP",effect:4,tier:1,cost:20,slot:1,title:"Magic Item"},{id:4,name:"Chainmail Armor",targetStat:"ARMOR",effect:2,tier:2,cost:25,slot:0,title:"Armor"},{id:5,name:"Ring of MP",targetStat:"MP",effect:12,tier:2,cost:25,slot:1,title:"Magic Item"},{id:4,name:"Scalemail Armor",targetStat:"ARMOR",effect:3,tier:3,cost:45,slot:0,title:"Armor"},{id:5,name:"Ring of HP",targetStat:"HP",effect:12,tier:3,cost:45,slot:1,title:"Magic Item"}],u=[d[0],d[1],d[2],o],f=[d[0],d[1]],g=[x[0]],p=[m[0],m[1]];return(0,l.jsx)("main",{className:"flex min-h-screen flex-col p-6",children:(0,l.jsx)("div",{className:"flex grow flex-col justify-center gap-6 rounded-lg bg-gray-50 px-6 py-2 md:w-5/5 md:px-20",children:(0,l.jsx)("div",{className:"flex grow flex-col gap-4 md:flex-row",children:(0,l.jsx)(S,{basePlayer:{id:0,imgSrc:"/images/hero.png",name:"Player",level:1,xp:0,gp:0,ap:0,currHP:15,totalHP:15,currMP:6,totalMP:6,strength:1,speed:1,armor:0,actionList:u,flee:o,itemList:g,equipList:p},enemies:[{id:1,imgSrc:"/images/zombie.png",name:"Zombie",level:1,xp:10,gp:5,currHP:8,totalHP:8,currMP:0,totalMP:0,strength:1,speed:0,armor:0,actionList:f},{id:2,imgSrc:"/images/skeleton.png",name:"Skeleton",level:1,xp:8,gp:6,currHP:4,totalHP:4,currMP:0,totalMP:0,strength:1,speed:0,armor:0,actionList:f},{id:3,imgSrc:"/images/orc.png",name:"Orc",level:1,xp:15,gp:10,currHP:6,totalHP:6,currMP:0,totalMP:0,strength:2,speed:1,armor:1,actionList:f},{id:4,imgSrc:"/images/werewolf.png",name:"Werewolf",level:2,xp:25,gp:15,currHP:15,totalHP:15,currMP:0,totalMP:0,strength:2,speed:2,armor:0,actionList:f},{id:5,imgSrc:"/images/minotaur.png",name:"Minotaur",level:2,xp:30,gp:12,currHP:20,totalHP:20,currMP:0,totalMP:0,strength:3,speed:1,armor:0,actionList:f},{id:6,imgSrc:"/images/vampire.png",name:"Vampire",level:2,xp:35,gp:20,currHP:20,totalHP:20,currMP:0,totalMP:0,strength:1,speed:4,armor:0,actionList:f},{id:7,imgSrc:"/images/ogre.png",name:"Ogre",level:3,xp:45,gp:30,currHP:20,totalHP:20,currMP:0,totalMP:0,strength:4,speed:1,armor:0,actionList:f},{id:8,imgSrc:"/images/dragon.png",name:"Dragon",level:3,xp:60,gp:40,currHP:20,totalHP:20,currMP:0,totalMP:0,strength:3,speed:3,armor:0,actionList:f}],items:x,moves:d,equipment:m})})})})}}},function(e){e.O(0,[750,971,472,744],function(){return e(e.s=7915)}),_N_E=e.O()}]);